@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    @font-face {
        font-family: "Noto Sans JP";
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url("assets/fonts/NotoSansJP/NotoSansJP-Regular.woff2") format("woff2"),
             url("assets/fonts/NotoSansJP/NotoSansJP-Regular.woff") format("woff");
    }

    @font-face {
        font-family: "Noto Sans JP";
        font-style: bold;
        font-weight: 700;
        font-display: swap;
        src: url("assets/fonts/NotoSansJP/NotoSansJP-Bold.woff2") format("woff2"),
             url("assets/fonts/NotoSansJP/NotoSansJP-Bold.woff") format("woff");
    }

    @font-face {
        font-family: "Noto Sans Mono";
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url("assets/fonts/NotoSansJP/NotoSansMono-Regular.woff2") format("woff2"),
             url("assets/fonts/NotoSansJP/NotoSansMono-Regular.woff") format("woff");
    }

    @font-face {
        font-family: "Noto Sans Mono";
        font-style: bold;
        font-weight: 700;
        font-display: swap;
        src: url("assets/fonts/NotoSansJP/NotoSansMono-Bold.woff2") format("woff2"),
             url("assets/fonts/NotoSansJP/NotoSansMono-Bold.woff") format("woff");
    }

    html {
        /* Prevent layout shift when scrollbar appears/disappears */
        scrollbar-gutter: stable;
        height: 100%;
    }

    /* On mobile devices, use auto scrollbar gutter to save space */
    @media (max-width: 768px) {
        html {
            scrollbar-gutter: auto;
        }
        
        /* Allow scrolling while preventing double-tap zoom on mobile devices */
        * {
            touch-action: pan-x pan-y;
        }
        
        /* For interactive elements, allow all touch actions except double-tap zoom */
        button, 
        [role="button"], 
        input, 
        textarea, 
        select,
        .cursor-pointer {
            touch-action: manipulation;
        }
    }

    :root {
        /* Base color values */
        --color-blue-50: #eff6ff;
        --color-blue-100: #f0f7ff;
        --color-blue-200: #ecf5ff;
        --color-blue-300: #e0efff;
        --color-blue-350: #cfe5ff;
        --color-blue-400: #bfdcff;
        --color-blue-500: #3ea8ff;
        --color-blue-600: #0f83fd;
        --color-blue-700: #0868ce;
        --color-gray-100: #f5f9fc;
        --color-gray-200: #f1f5f9;
        --color-gray-300: #edf2f7;
        --color-gray-400: #e4edf4;
        --color-gray-500: #d6e3ed;
        --color-gray-600: #acbcc7;
        --color-gray-700: #8f9faa;
        --color-gray-800: #65717b;
        --color-purple-200: #f3f2ff;
        --color-purple-300: #dbdfff;
        --color-red-100: #fff0f0;
        --color-red-300: #ffc5c5;
        --color-red-500: #ff6868;
        
        /* Semantic colors */
        --color-primary: var(--color-blue-500);
        --color-primary-light: var(--color-blue-300);
        --color-primary-dark: var(--color-blue-700);
        --color-secondary: #807aff;
        --color-success: #10b981;
        --color-warning: #f59e0b;
        --color-error: var(--color-red-500);
        --color-info: var(--color-blue-500);
        --color-accent: var(--color-red-500);
        
        /* Background colors */
        --color-bg-base: #ffffff;
        --color-bg-base-rgb: 255 255 255;
        --color-bg-neutral: var(--color-gray-300);
        --color-bg-neutral-light: var(--color-gray-200);
        --color-bg-neutral-lighter: var(--color-gray-100);
        --color-bg-elevated: #ffffff;
        --color-bg-subtle: #f8f9fa;
        --color-bg-primary: var(--color-blue-300);
        --color-bg-primary-light: var(--color-blue-200);
        --color-bg-secondary: var(--color-purple-200);
        --color-bg-error: var(--color-red-100);
        --color-bg-warning: #fff6e4;
        --color-bg-success: #ecfdf5;
        --color-bg-popover: var(--color-bg-base);
        --color-bg-backdrop: #242d3340;
        
        /* Text colors */
        --color-text-primary: #343434;
        --color-text-secondary: #8891a1;
        --color-text-muted: var(--color-gray-700);
        --color-text-disabled: var(--color-gray-600);
        --color-text-link: var(--color-blue-600);
        --color-text-link-visited: #4b4f52;
        --color-text-inverse: #ffffff;
        
        /* Border colors */
        --color-border-primary: #c7c7c7;
        --color-border-light: var(--color-gray-400);
        --color-border-lighter: var(--color-gray-300);
        --color-border-focus: var(--color-blue-400);
        
        /* Shadows */
        --color-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --color-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --color-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        
        /* Button color system */
        --color-button-primary-bg: var(--color-primary);
        --color-button-primary-fg: var(--color-bg-base);
        --color-button-primary-hover-bg: var(--color-blue-600);
        --color-button-secondary-bg: var(--color-bg-base);
        --color-button-secondary-fg: var(--color-text-primary);
        --color-button-secondary-border: var(--color-primary);
        --color-button-secondary-hover-bg: var(--color-primary);
        --color-button-secondary-hover-fg: var(--color-bg-base);
        --color-button-secondary-grayed-bg: var(--color-bg-neutral-lighter);
        --color-button-secondary-grayed-fg: var(--color-text-primary);
        --color-button-secondary-grayed-border: var(--color-border-primary);
        --color-button-secondary-grayed-hover-bg: var(--color-bg-neutral);
        --color-button-tertiary-fg: var(--color-text-link);
        --color-button-tertiary-hover-bg: var(--color-bg-primary-light);
        --color-button-quaternary-fg: var(--color-text-primary);
        --color-button-quaternary-hover-bg: var(--color-bg-neutral);
        --color-button-quaternary-disabled-fg: var(--color-text-disabled);
        --color-button-danger-bg: var(--color-bg-base);
        --color-button-danger-fg: var(--color-error);
        --color-button-danger-border: var(--color-red-300);
        --color-button-danger-hover-bg: var(--color-bg-error);
        --color-button-danger-focus-border: var(--color-error);
        
        /* Layout */
        --layout-width-note: 768px;
        --layout-width-grid: 1024px;
        --layout-width-split-view: calc(var(--layout-width-note) * 2);
        
        /* Legacy variables for backward compatibility (temporary) */
        --theme-brand: var(--color-primary);
        --theme-brand-dark: var(--color-primary-dark);
        --theme-brand-accent: #e35183;
        --theme-background: var(--color-bg-neutral);
        --theme-background-surface: var(--color-bg-base);
        --theme-background-subtle: var(--color-bg-subtle);
        --theme-button: var(--color-bg-base);
        --theme-button-hover: #e1e3e6;
        --theme-background-elevated: var(--color-bg-elevated);
        --theme-text: var(--color-text-primary);
        --theme-text-muted: var(--color-text-secondary);
        --theme-border: var(--color-border-primary);
        --theme-shadow-sm: var(--color-shadow-sm);
        --theme-shadow-md: var(--color-shadow-md);
        --theme-shadow-lg: var(--color-shadow-lg);
    }

    body {
        height: 100%;
    }

    /* Disable hover effects on touch devices */
    @media (hover: none) {
        *:hover {
            background-color: inherit !important;
            color: inherit !important;
            transform: none !important;
            box-shadow: inherit !important;
            border-color: inherit !important;
            opacity: inherit !important;
        }
    }


    /* Custom scrollbar styling for better visual consistency */
    ::-webkit-scrollbar {
        width: 12px;
    }

    ::-webkit-scrollbar-track {
        background: var(--color-bg-base);
    }

    ::-webkit-scrollbar-thumb {
        background: var(--color-border-primary);
        border-radius: 6px;
        border: 2px solid var(--color-bg-base);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--color-text-muted);
    }

    /* Firefox scrollbar styling */
    * {
        scrollbar-width: thin;
        scrollbar-color: var(--color-border-primary) var(--color-bg-base);
    }
}

@layer utilities {
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* Fix jquery.terminal CSS warning */
.cmd .cmd-clipboard {
    left: -16px !important;
}
